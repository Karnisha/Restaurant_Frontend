{"ast":null,"code":"var _jsxFileName = \"D:\\\\Micro\\\\Resturant-website-Reactjs-MUI\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport React from 'react';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const initalvalues = {\n    Email: \"\",\n    Password: \"\"\n  };\n  const [formValues, setformValues] = useState(initalvalues);\n  const [formErrors, setFormErrors] = useState({});\n  const [isSubmit, setIsSubmit] = useState(false);\n  const navigate = useNavigate();\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setformValues({\n      ...formValues,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setFormErrors(validate(formValues));\n    setIsSubmit(true);\n    try {\n      const response = await axios.post('https://localhost:7092/api/Login/login', formValues);\n      console.log('Login Sucessfully:', response.data);\n      window.alert('Login successfuly');\n      navigate('/menu');\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  useEffect(() => {\n    console.log(formErrors);\n    if (Object.keys(formErrors).length === 0 && isSubmit) {\n      console.log(formValues);\n    }\n  }, [formErrors]);\n  const validate = values => {\n    const errors = {};\n    const regex = /\\b[A-Za-z0-9._%+-]+@center\\.com\\b/;\n    if (!values.Email) {\n      errors.Email = \"Email is required!\";\n    } else {\n      let name = values.Email.substring(0, values.Email.indexOf('@'));\n      if (regex.test(values.Email)) {\n        navigate(\"/menu\", {\n          state: {\n            username: name,\n            email: values.Email\n          }\n        });\n      } else if (values.Email === 'admin@admin.com' && values.Password === '12345') {\n        navigate(\"/adminhome\");\n      } else {\n        navigate(\"/menu\", {\n          state: {\n            username: name,\n            email: values.Email\n          }\n        });\n      }\n      if (!values.Password) {\n        errors.Password = \"Password is required!\";\n      } else if (values.Password.length < 4) {\n        errors.Password = \"Password must be more than 4 charcters\";\n      } else if (values.Password.length > 10) {\n        errors.Password = \"Password must be exceed more than 10 charcters\";\n      }\n    }\n    if (Object.keys(formErrors).length === 0 && isSubmit) {\n      navigate(\"/home\");\n    }\n    return errors;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-floating \",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          class: \"form-control\",\n          id: \"email\",\n          name: \"Email\",\n          value: formValues.Email,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          className: formValues.Email ? \"active\" : \"\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formErrors.Email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-floating \",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          class: \"form-control\",\n          id: \"pwd\",\n          name: \"Password\",\n          value: formValues.Password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"pwd\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formErrors.Password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn btn-primary\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/signup\",\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end'\n          },\n          children: \"Don't Have an account? Signup!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"Ms6F0DS2hnVwkaZ4YSU+Obx0Sik=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useEffect","axios","React","NavLink","useNavigate","Login","initalvalues","Email","Password","formValues","setformValues","formErrors","setFormErrors","isSubmit","setIsSubmit","navigate","handleChange","e","name","value","target","handleSubmit","preventDefault","validate","response","post","console","log","data","window","alert","error","Object","keys","length","values","errors","regex","substring","indexOf","test","state","username","email","display","justifyContent"],"sources":["D:/Micro/Resturant-website-Reactjs-MUI/src/pages/Login.js"],"sourcesContent":["import { useState,useEffect } from 'react'\r\nimport axios from 'axios';\r\nimport React from 'react'\r\nimport { NavLink,useNavigate } from 'react-router-dom'\r\n \r\nfunction Login() {\r\n  const initalvalues = {  Email: \"\", Password: \"\" };\r\n    const [formValues, setformValues] = useState(initalvalues);\r\n    const[formErrors,setFormErrors]=useState({});\r\n    const [isSubmit,setIsSubmit]=useState(false);\r\n    const navigate = useNavigate();\r\n \r\n    const handleChange = (e) => {\r\n        const {name,value}=e.target;\r\n        setformValues({...formValues,[name]:value})\r\n       \r\n            };\r\n    const handleSubmit = async(e)=>{\r\n        e.preventDefault();\r\n        setFormErrors(validate(formValues));\r\n        setIsSubmit(true);\r\n        try {\r\n \r\n          const response = await axios.post('https://localhost:7092/api/Login/login', formValues);\r\n         \r\n          console.log('Login Sucessfully:', response.data);\r\n \r\n          window.alert('Login successfuly');\r\n         \r\n          navigate('/menu');\r\n \r\n      }\r\n \r\n      catch (error) {\r\n \r\n          console.error('Error:', error);\r\n \r\n      }\r\n    }\r\n    useEffect(()=>{\r\n        console.log(formErrors);\r\n        if(Object.keys(formErrors).length === 0 && isSubmit){\r\n            console.log(formValues);\r\n        }\r\n    },[formErrors])\r\n        const validate=(values)=>{\r\n            const errors ={};\r\n            const regex=/\\b[A-Za-z0-9._%+-]+@center\\.com\\b/;\r\n           \r\n            if(!values.Email){\r\n                errors.Email=\"Email is required!\";\r\n            }\r\n            else {\r\n              let name = values.Email.substring(0,values.Email.indexOf('@'));\r\n              if (regex.test(values.Email)){\r\n                navigate(\"/menu\", {state: {username: name, email: values.Email} })\r\n              }else if (values.Email==='admin@admin.com'&& values.Password==='12345'){\r\n                navigate(\"/adminhome\")\r\n              }else{\r\n                navigate(\"/menu\", {state: {username: name, email: values.Email} })\r\n              }\r\n              if(!values.Password){\r\n                errors.Password=\"Password is required!\";\r\n              }else if (values.Password.length < 4 ){\r\n                errors.Password=\"Password must be more than 4 charcters\"\r\n              }else if (values.Password.length > 10 ){\r\n                errors.Password=\"Password must be exceed more than 10 charcters\"\r\n              }\r\n            }\r\n            if(Object.keys(formErrors).length === 0 && isSubmit){\r\n              navigate(\"/home\")\r\n            }\r\n \r\n               \r\n            return errors;\r\n        }\r\n \r\n     \r\n  return (\r\n    <div class='container'>\r\n \r\n      <form onSubmit={handleSubmit}>\r\n \r\n        <h1 style={{ display: 'flex', justifyContent: 'center' }}>Login</h1>\r\n        <hr></hr>\r\n        <div className=\"form-floating \">\r\n          <input type=\"email\" class=\"form-control\" id=\"email\" name=\"Email\" value={formValues.Email} onChange={handleChange}/>\r\n          <label htmlFor=\"email\" className={formValues.Email ? \"active\" : \"\"}>Email</label>\r\n        </div><p>{formErrors.Email}</p>\r\n \r\n        <div class=\"form-floating \">\r\n          <input type=\"password\" class=\"form-control\" id=\"pwd\" name=\"Password\" value={formValues.Password} onChange={handleChange} />\r\n          <label htmlFor=\"pwd\">Password</label>\r\n        </div><p>{formErrors.Password}</p>\r\n        <div class=\"footer\">\r\n \r\n          <button class=\"btn btn-primary\">Login</button>\r\n          <NavLink to='/signup' style={{ display: 'flex', justifyContent: 'flex-end' }}>Don't Have an account? Signup!</NavLink>\r\n        </div>\r\n      </form>\r\n \r\n    </div>\r\n  )\r\n}\r\n \r\nexport default Login\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}