{"ast":null,"code":"var _jsxFileName = \"D:\\\\Micro\\\\Resturant-website-Reactjs-MUI\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport React from 'react';\nimport { NavLink, useNavigate, Link } from 'react-router-dom';\nimport Layout from '../components/Layout/Layout';\nimport Cookies from 'js-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const initalvalues = {\n    Email: \"\",\n    Password: \"\"\n  };\n  const [formValues, setformValues] = useState(initalvalues);\n  const [formErrors, setFormErrors] = useState({});\n  const [isSubmit, setIsSubmit] = useState(false);\n  const navigate = useNavigate();\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setformValues({\n      ...formValues,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setFormErrors(validate(formValues));\n    setIsSubmit(true);\n    try {\n      const response = await axios.post('https://localhost:7092/api/Login/login', formValues);\n      console.log('Login Sucessfully:', response.data);\n      window.alert('Login successfuly');\n\n      // navigate('/menu');\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  useEffect(() => {\n    console.log(formErrors);\n    if (Object.keys(formErrors).length === 0 && isSubmit) {\n      console.log(formValues);\n    }\n  }, [formErrors]);\n  const validate = values => {\n    const errors = {};\n    const regex = /\\b[A-Za-z0-9._%+-]+@center\\.com\\b/;\n    if (!values.Email) {\n      errors.Email = \"Email is required!\";\n    } else {\n      let name = values.Email.substring(0, values.Email.indexOf('@'));\n      if (regex.test(values.Email)) {\n        navigate(\"/menu\", {\n          state: {\n            username: name,\n            email: values.Email\n          }\n        });\n      } else if (values.Email === 'admin@admin.com' && values.Password === '12345') {\n        navigate(\"/adminhome\");\n      } else {\n        navigate(\"/home\", {\n          state: {\n            username: name,\n            email: values.Email\n          }\n        });\n      }\n      if (!values.Password) {\n        errors.Password = \"Password is required!\";\n      } else if (values.Password.length < 4) {\n        errors.Password = \"Password must be more than 4 charcters\";\n      } else if (values.Password.length > 10) {\n        errors.Password = \"Password must be exceed more than 10 charcters\";\n      }\n    }\n    if (Object.keys(formErrors).length === 0 && isSubmit) {\n      navigate(\"/home\");\n    }\n    return errors;\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container p-5 w-25 border border-dark\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'center'\n          },\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-floating   \",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            class: \"form-control\",\n            id: \"email\",\n            name: \"Email\",\n            value: formValues.Email,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: formValues.Email ? \"active\" : \"\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: formErrors.Email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-floating \",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            class: \"form-control\",\n            id: \"pwd\",\n            name: \"Password\",\n            value: formValues.Password,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"pwd\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: formErrors.Password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn btn-primary\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n            to: \"/signup\",\n            style: {\n              display: 'flex',\n              justifyContent: 'flex-end'\n            },\n            children: \"Don't Have an account? Signup!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n_s(Login, \"Ms6F0DS2hnVwkaZ4YSU+Obx0Sik=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useEffect","axios","React","NavLink","useNavigate","Link","Layout","Cookies","Login","initalvalues","Email","Password","formValues","setformValues","formErrors","setFormErrors","isSubmit","setIsSubmit","navigate","handleChange","e","name","value","target","handleSubmit","preventDefault","validate","response","post","console","log","data","window","alert","error","Object","keys","length","values","errors","regex","substring","indexOf","test","state","username","email","display","justifyContent"],"sources":["D:/Micro/Resturant-website-Reactjs-MUI/src/pages/Login.js"],"sourcesContent":["import { useState,useEffect } from 'react'\r\nimport axios from 'axios';\r\nimport React from 'react'\r\nimport { NavLink,useNavigate ,Link} from 'react-router-dom'\r\nimport Layout from '../components/Layout/Layout';\r\nimport Cookies from 'js-cookie';\r\n \r\nfunction Login() {\r\n  const initalvalues = {  Email: \"\", Password: \"\" };\r\n    const [formValues, setformValues] = useState(initalvalues);\r\n    const[formErrors,setFormErrors]=useState({});\r\n    const [isSubmit,setIsSubmit]=useState(false);\r\n    const navigate = useNavigate();\r\n \r\n    const handleChange = (e) => {\r\n        const {name,value}=e.target;\r\n        setformValues({...formValues,[name]:value})\r\n       \r\n            };\r\n    const handleSubmit = async(e)=>{\r\n        e.preventDefault();\r\n        setFormErrors(validate(formValues));\r\n        setIsSubmit(true);\r\n        try {\r\n \r\n          const response = await axios.post('https://localhost:7092/api/Login/login', formValues);\r\n         \r\n          console.log('Login Sucessfully:', response.data);\r\n \r\n          window.alert('Login successfuly');\r\n         \r\n          // navigate('/menu');\r\n \r\n      }\r\n \r\n      catch (error) {\r\n \r\n          console.error('Error:', error);\r\n \r\n      }\r\n    }\r\n    useEffect(()=>{\r\n        console.log(formErrors);\r\n        if(Object.keys(formErrors).length === 0 && isSubmit){\r\n            console.log(formValues);\r\n        }\r\n    },[formErrors])\r\n        const validate=(values)=>{\r\n            const errors ={};\r\n            const regex=/\\b[A-Za-z0-9._%+-]+@center\\.com\\b/;\r\n           \r\n            if(!values.Email){\r\n                errors.Email=\"Email is required!\";\r\n            }\r\n            else {\r\n              let name = values.Email.substring(0,values.Email.indexOf('@'));\r\n              if (regex.test(values.Email)){\r\n                navigate(\"/menu\", {state: {username: name, email: values.Email} })\r\n              }else if (values.Email==='admin@admin.com'&& values.Password==='12345'){\r\n                navigate(\"/adminhome\")\r\n              }else{\r\n                navigate(\"/home\", {state: {username: name, email: values.Email} })\r\n              }\r\n              if(!values.Password){\r\n                errors.Password=\"Password is required!\";\r\n              }else if (values.Password.length < 4 ){\r\n                errors.Password=\"Password must be more than 4 charcters\"\r\n              }else if (values.Password.length > 10 ){\r\n                errors.Password=\"Password must be exceed more than 10 charcters\"\r\n              }\r\n            }\r\n            if(Object.keys(formErrors).length === 0 && isSubmit){\r\n              navigate(\"/home\")\r\n            }\r\n \r\n               \r\n            return errors;\r\n        }\r\n \r\n     \r\n  return (\r\n    <>\r\n         \r\n               \r\n    <div class='container p-5 w-25 border border-dark'>\r\n             \r\n \r\n      <form onSubmit={handleSubmit}>\r\n \r\n        <h1 style={{ display: 'flex', justifyContent: 'center' }}>Login</h1>\r\n        <hr></hr>\r\n        <div className=\"form-floating   \">\r\n          <input type=\"email\" class=\"form-control\" id=\"email\" name=\"Email\" value={formValues.Email} onChange={handleChange}/>\r\n          <label htmlFor=\"email\" className={formValues.Email ? \"active\" : \"\"}>Email</label>\r\n        </div><p>{formErrors.Email}</p>\r\n \r\n        <div class=\"form-floating \">\r\n          <input type=\"password\" class=\"form-control\" id=\"pwd\" name=\"Password\" value={formValues.Password} onChange={handleChange} />\r\n          <label htmlFor=\"pwd\">Password</label>\r\n        </div><p>{formErrors.Password}</p>\r\n        <div class=\"footer\">\r\n \r\n          <button class=\"btn btn-primary\">Login</button>\r\n          <NavLink to='/signup' style={{ display: 'flex', justifyContent: 'flex-end' }}>Don't Have an account? Signup!</NavLink>\r\n        </div>\r\n      </form>\r\n \r\n    </div>\r\n    </>\r\n  )\r\n}\r\n \r\nexport default Login\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}